{"version":3,"file":"eraseFirstResponseAndKeepFirstSystemChatContextShiftStrategy.js","sourceRoot":"","sources":["../../../../../src/evaluator/LlamaChat/utils/contextShiftStrategies/eraseFirstResponseAndKeepFirstSystemChatContextShiftStrategy.ts"],"names":[],"mappings":"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"}